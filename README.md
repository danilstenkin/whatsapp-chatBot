# ๐ค WhatsApp GPT-ะะพั ะดะปั ััะธะดะธัะตัะบะพะน ะบะพะผะฟะฐะฝะธะธ

ะญัะพั ะฟัะพะตะบั ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน ะธะฝัะตะปะปะตะบััะฐะปัะฝะพะณะพ WhatsApp-ะฑะพัะฐ, ะบะพัะพััะน ะฟะพะผะพะณะฐะตั ะฟะพะปัะทะพะฒะฐัะตะปัะผ ั ััะธะดะธัะตัะบะธะผะธ ะฒะพะฟัะพัะฐะผะธ ะฟะพ ะดะพะปะณะฐะผ ะธ ะบัะตะดะธัะฐะผ. ะะพั ะพะฑัะฐะตััั ั ะบะปะธะตะฝัะฐะผะธ, ัะพะฑะธัะฐะตั ะดะฐะฝะฝัะต, ะธัะฟะพะปัะทัะตั GPT ะดะปั ะณะตะฝะตัะฐัะธะธ ะพัะฒะตัะพะฒ ะธ ัะพััะฐะฝัะตั ะธะฝัะพัะผะฐัะธั ะฒ ะฑะฐะทั ะดะฐะฝะฝัั.

---

## ๐ ะกัะตะบ ัะตัะฝะพะปะพะณะธะน

- ๐ Python 3.12
- โก FastAPI
- ๐ PostgreSQL
- ๐ฅ Redis
- ๐ง OpenAI (ัะตัะตะท OpenRouter API)
- ๐ Twilio WhatsApp API
- ๐ณ Docker + Docker Compose

---

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

1. **ะะปะพะฝะธััะน ัะตะฟะพะทะธัะพัะธะน:**

```bash
git clone https://github.com/yourusername/whatsapp-chatBot.git
cd whatsapp-chatBot

ะกะพะทะดะฐะน .env ัะฐะนะป ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ:

DB_USER=myuser
DB_PASS=mypassword
DB_NAME=whatsapp
DB_HOST=localhost
DB_PORT=5432

REDIS_HOST=127.0.0.1
REDIS_PORT=6379

OPENROUTER_API_KEY=sk-...

TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

ENCRYPTION_KEY=...

ะะฐะฟัััะธ ะฟัะพะตะบั ั Docker Compose:

docker-compose up --build

โ๏ธ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

whatsapp-chatBot/
app/
โ
โโโ core/              # ะัะฝะพะฒะฝะฐั ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ (GPT, AI, ะผะตะฝะตะดะถะตัั)
โ   โโโ gpt.py
โ   โโโ deepseek.py
โ   โโโ menedger.py
โ
โโโ services/          # ะะฝะตัะฝะธะต ะธะฝัะตะณัะฐัะธะธ (Twilio, Bitrix ะธ ะดั.)
โ   โโโ messenger.py
โ   โโโ create_task_in_bitrix.py
โ   โโโ security.py
โ
โโโ db/                # ะะฐะฑะพัะฐ ั ะะ ะธ ะธะฝะธัะธะฐะปะธะทะฐัะธั
โ   โโโ database.py
โ   โโโ init.sql
โ   โโโ redis_client.py
โ   โโโ utils.py
โ
โโโ routers/           # ะะพััั FastAPI
โ   โโโ whatsapp.py
โ
โโโ state/             # ะฅัะฐะฝะตะฝะธะต ะปะพะณะธะบะธ ัะพััะพัะฝะธะน
โ   โโโ lead_state.py
โ
โโโ validators/        # ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั
โ   โโโ credit_types.py
โ   โโโ user_data.py
โ
โโโ workers/           # ะัะตัะตะดะธ, ัะพะฝะพะฒัะต ะทะฐะดะฐัะธ
โ   โโโ send_worker.py
โ   โโโ queue_senders.py
โ   โโโ config.py
โ
โโโ logger_config.py   # ะะพะณะณะตั
โโโ config.py          # ะะพะฝัะธะณััะฐัะธั ะฟัะพะตะบัะฐ (dotenv, ะบะปััะธ ะธ ั.ะฟ.)


๐ง ะะพะทะผะพะถะฝะพััะธ

    ๐ฒ ะะฑัะตะฝะธะต ั ะบะปะธะตะฝัะฐะผะธ ัะตัะตะท WhatsApp

    ๐ง ะัะฒะตัั ั ะฟะพะผะพััั GPT (OpenRouter API)

    ๐พ ะฅัะฐะฝะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะฒ PostgreSQL

    โ๏ธ ะฃะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ ัะตัะตะท Redis

    โ ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั (ะคะะ, ะะะ, ะบัะตะดะธัั, ะดะพัะพะดั ะธ ะดั.)

    ๐ ะะพัะฐะณะพะฒะฐั ะฐะฝะบะตัะฐ ะดะปั ะพัะตะฝะบะธ ะฑะฐะฝะบัะพัััะฒะฐ

๐งช ะัะธะผะตัั API

POST /whatsapp

Webhook ะดะปั ะฟะพะปััะตะฝะธั ะฒัะพะดััะธั ัะพะพะฑัะตะฝะธะน ะพั Twilio.
๐ ะะธัะตะฝะทะธั

MIT โ ัะฒะพะฑะพะดะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั, ะผะตะฝััั ะธ ัะฐัะฟัะพัััะฐะฝััั.
๐จโ๐ป ะะฒัะพั

ะะฐะทัะฐะฑะพััะธะบ: @danilstenkin


